# ADR-004: TanStack Routerをフロントエンドルーティングに使用する

## ステータス

- [x] 承認
- [ ] 保留
- [ ] 却下

## 論点

SPAアーキテクチャにおいて、どのルーティングライブラリを使用するか。

## 決定事項

TanStack Routerを使用してフロントエンドルーティングを実装する。

## 決定理由

- **完全な型安全性**: ルートパラメータ、検索パラメータ、ルート遷移がすべて型推論される
- **ファイルベースルーティング**: 直感的なディレクトリ構造でルートを定義でき、自動コード生成される
- **データローディング**: ルートレベルでのデータフェッチングとローディング状態管理が組み込まれている
- **コード分割**: 自動的なルートベースのコード分割で初期ロード時間を最適化
- **開発体験**: DevToolsにより、ルート状態のデバッグが容易
- **軽量**: React RouterやNext.jsと比較して小さいバンドルサイズ

## 代替案

### React Router v7

- 最も普及しているが、型安全性が弱く、手動での型定義が必要
- データローディングパターンが複雑

### Next.js App Router

- SSRが前提の設計で、本プロジェクトのSPA + Cloudflare Pagesアーキテクチャには不適合
- Workers環境でのSSRは複雑

### Wouter

- 軽量だが、機能が限定的
- 型安全性やデータローディングの機能が不足
